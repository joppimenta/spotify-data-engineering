version: 2

models:
  - name: dim_artists
    description: >
      Dimensão que contém informações únicas dos artistas, agregando dados
      de faixas e álbuns. Serve como referência para análises de reproduções
      por artista.
    columns:
      - name: artist_id
        description: "Identificador único do artista."
      - name: artist_name
        description: "Nome do artista."
      - name: artist_href
        description: "Link da API do Spotify com detalhes do artista."
      - name: artist_type
        description: "Tipo da entidade — geralmente 'artist'."
      - name: artist_spotify
        description: "URL pública do Spotify para o perfil do artista."
      - name: artist_uri
        description: "URI única do Spotify para o artista."

  - name: dim_albums
    description: >
      Dimensão que contém informações únicas dos álbuns presentes nas faixas ouvidas.
      Pode ser usada para analisar métricas agregadas por álbum.
    columns:
      - name: album_id
        description: "Identificador único do álbum."
      - name: album_name
        description: "Nome do álbum."
      - name: album_type
        description: "Tipo do álbum (por exemplo, 'album', 'single', 'compilation')."
      - name: album_release_date
        description: "Data de lançamento do álbum em formato DATE. Caso apenas o ano esteja disponível, assume-se 01/01."
      - name: album_release_date_precision
        description: "Precisão da data de lançamento ('year', 'month', 'day')."
      - name: album_total_tracks
        description: "Número total de faixas do álbum."

  - name: fact_listened_tracks
    description: >
      Fato principal contendo registros de faixas ouvidas pelos usuários.
      Cada linha representa uma reprodução e está ligada às dimensões de
      artistas, álbuns e faixas.
    columns:
      - name: played_at
        description: "Timestamp em que a faixa foi reproduzida."
      - name: track_id
        description: "Identificador único da faixa reproduzida."
      - name: track_name
        description: "Nome da faixa reproduzida."
      - name: album_id
        description: "Identificador do álbum ao qual a faixa pertence."
      - name: artist_id
        description: "Identificador do artista associado à faixa."
      - name: duration_ms
        description: "Duração da faixa em milissegundos."
      - name: popularity
        description: "Popularidade da faixa no Spotify (0-100)."
      - name: context_type
        description: "Contexto em que a faixa foi reproduzida (playlist, álbum, etc)."
      - name: load_datetime
        description: "Data e hora em que os dados foram carregados na camada staging."
